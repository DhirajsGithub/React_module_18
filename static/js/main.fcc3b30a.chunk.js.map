{"version":3,"sources":["components/Context/auth-context.js","components/UI/Card.js","components/UI/LoadingIndicator.js","components/Ingredients/IngredientForm.js","components/UI/ErrorModal.js","components/hooks/http.js","components/Ingredients/Search.js","components/Ingredients/IngredientList.js","components/Ingredients/Ingredients.js","components/Auth.js","App.js","index.js"],"names":["AuthContext","React","createContext","isAuth","login","AuthContextProvider","props","_useState","useState","_useState2","Object","slicedToArray","isAuthenticated","setIsAuthenticated","react_default","a","createElement","Provider","value","children","Card","className","LoadingIndicator","IngredientForm","memo","title","setTitle","_useState3","_useState4","amount","setAmount","components_UI_Card","onSubmit","event","preventDefault","onAddIngredient","htmlFor","type","id","onChange","target","loading","components_UI_LoadingIndicator","ErrorModal","Fragment","onClick","onClose","initialState","error","data","extra","identifier","httpReducer","curHttpState","action","objectSpread2","responseData","errorMessage","Error","useHttp","_useReducer","useReducer","_useReducer2","httpState","dispatchHttp","clear","useCallback","sendRequest","url","method","body","reqExtra","reqIdentifer","fetch","headers","Content-Type","then","response","json","catch","isLoading","Search","onLoadedIngredients","enteredFilter","setEnteredFilter","inputRef","useRef","_useHttp","useEffect","timer","setTimeout","current","query","length","concat","clearTimeout","loadedIngredients","key","push","UI_ErrorModal","ref","IngredientList","ingredients","map","ig","onRemoveItem","bind","ingredientReducer","currentIngredients","toConsumableArray","ingredient","filter","item","errorData","Ingredients","dispatch","name","userIngredients","_useReducer3","_useReducer4","filterIngredientHandler","filteredIngredient","console","log","addIngredientHandler","JSON","stringify","removeIngredientHandler","ingredientList","useMemo","components_Ingredients_IngredientList","Ingredients_IngredientForm","Ingredients_Search","Auth","ctx","useContext","App","Ingredients_Ingredients","src_components_Auth","ReactDOM","createRoot","document","getElementById","render","auth_context","src_App"],"mappings":"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","file":"static/js/main.fcc3b30a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nexport const AuthContext = React.createContext({\n  isAuth: false,\n  login: () => {},\n});\n\nconst AuthContextProvider = (props) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const loginHandler = () => {\n    setIsAuthenticated(true);\n  };\n\n  return <AuthContext.Provider value={{login : loginHandler, isAuth : isAuthenticated}}>{props.children}</AuthContext.Provider>;\n};\n\nexport default AuthContextProvider","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\">{props.children}</div>;\n};\n\nexport default Card;\n","import React from 'react';\n\nimport './LoadingIndicator.css';\n\nconst LoadingIndicator = () => (\n  <div className=\"lds-ring\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIndicator;\n","import React, { useState } from \"react\";\n\nimport Card from \"../UI/Card\";\nimport LoadingIndicator from \"../UI/LoadingIndicator\";\nimport \"./IngredientForm.css\";\n\nconst IngredientForm = React.memo((props) => {\n  // const inputState = useState({ title: \"\", amount: \"\" });\n  // const [inputState, setInputState] = useState({ title: \"\", amount: \"\" });\n  // NOTE: only use object when your data changes together recomannded\n  const [title, setTitle] = useState('');\n  const [amount , setAmount] = useState('')\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    props.onAddIngredient({title: title, amount: amount})\n  };\n\n  return (\n    <section className=\"ingredient-form\">\n      <Card>\n        <form onSubmit={submitHandler}>\n          <div className=\"form-control\">\n            <label htmlFor=\"title\">Name</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              // value={inputState[0].title}\n              // value={inputState.title}\n              value={title}\n              // onChange={(event) => {\n              //   const newTitle = event.target.value; // for closure purpose\n              //   // inputState[1]( prevState =>({\n              //     setInputState( prevState =>({\n              //     title: newTitle,\n              //     amount: prevState.amount,\n              //   }) )\n              // }}\n              onChange={event => {setTitle(event.target.value)}}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"amount\">Amount</label>\n            <input\n              type=\"number\"\n              id=\"amount\"\n              value={amount}\n              onChange={event => {setAmount(event.target.value)}}\n            />\n          </div>\n          <div className=\"ingredient-form__actions\">\n            <button type=\"submit\">Add Ingredient</button>\n            {props.loading && <LoadingIndicator /> }\n          </div>\n        </form>\n      </Card>\n    </section>\n  );\n});\n\nexport default IngredientForm;\n","import React from 'react';\n\nimport './ErrorModal.css';\n\nconst ErrorModal = React.memo(props => {\n  return (\n    <React.Fragment>\n      <div className=\"backdrop\" onClick={props.onClose} />\n      <div className=\"error-modal\">\n        <h2>An Error Occurred!</h2>\n        <p>{props.children}</p>\n        <div className=\"error-modal__actions\">\n          <button type=\"button\" onClick={props.onClose}>\n            Okay\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default ErrorModal;\n","import { useReducer, useCallback } from 'react';\n\nconst initialState = {\n  loading: false,\n  error: null,\n  data: null,\n  extra: null,\n  identifier: null\n};\n\nconst httpReducer = (curHttpState, action) => {\n  switch (action.type) {\n    case 'SEND':\n      return {\n        loading: true,\n        error: null,\n        data: null,\n        extra: null,\n        identifier: action.identifier\n      };\n    case 'RESPONSE':\n      return {\n        ...curHttpState,\n        loading: false,\n        data: action.responseData,\n        extra: action.extra\n      };\n    case 'ERROR':\n      return { loading: false, error: action.errorMessage };\n    case 'CLEAR':\n      return initialState;\n    default:\n      throw new Error('Should not be reached!');\n  }\n};\n\nconst useHttp = () => {\n  const [httpState, dispatchHttp] = useReducer(httpReducer, initialState);\n\n  const clear = useCallback(() => dispatchHttp({ type: 'CLEAR' }), []);\n\n  const sendRequest = useCallback(\n    (url, method, body, reqExtra, reqIdentifer) => {\n      dispatchHttp({ type: 'SEND', identifier: reqIdentifer });\n      fetch(url, {\n        method: method,\n        body: body,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n        .then(response => {\n          return response.json();\n        })\n        .then(responseData => {\n          dispatchHttp({\n            type: 'RESPONSE',\n            responseData: responseData,\n            extra: reqExtra\n          });\n        })\n        .catch(error => {\n          dispatchHttp({\n            type: 'ERROR',\n            errorMessage: 'Something went wrong!'\n          });\n        });\n    },\n    []\n  );\n\n  return {\n    isLoading: httpState.loading,\n    data: httpState.data,\n    error: httpState.error,\n    sendRequest: sendRequest,\n    reqExtra: httpState.extra,\n    reqIdentifer: httpState.identifier,\n    clear: clear\n  };\n};\n\nexport default useHttp;","\nimport React, { useState, useEffect, useRef } from 'react';\n\nimport Card from '../UI/Card';\nimport ErrorModal from '../UI/ErrorModal';\nimport useHttp from \"../../components/hooks/http.js\"\nimport './Search.css';\n\nconst Search = React.memo(props => {\n  const { onLoadedIngredients } = props;\n  const [enteredFilter, setEnteredFilter] = useState('');\n  const inputRef = useRef();\n  const { isLoading, data, error, sendRequest, clear } = useHttp();\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (enteredFilter === inputRef.current.value) {\n        const query =\n          enteredFilter.length === 0\n            ? ''\n            : `?orderBy=\"title\"&equalTo=\"${enteredFilter}\"`;\n        sendRequest(\n          \"https://react-http-6b42f-default-rtdb.firebaseio.com/ingredients.json\" + query,\n          'GET'\n        );\n      }\n    }, 500);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [enteredFilter, inputRef, sendRequest]);\n\n  useEffect(() => {\n    if (!isLoading && !error && data) {\n      const loadedIngredients = [];\n      for (const key in data) {\n        loadedIngredients.push({\n          id: key,\n          title: data[key].title,\n          amount: data[key].amount\n        });\n      }\n      onLoadedIngredients(loadedIngredients);\n    }\n  }, [data, isLoading, error, onLoadedIngredients]);\n\n  return (\n    <section className=\"search\">\n      {error && <ErrorModal onClose={clear}>{error}</ErrorModal>}\n      <Card>\n        <div className=\"search-input\">\n          <label>Filter by Title</label>\n          {isLoading && <span>Loading...</span>}\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={enteredFilter}\n            onChange={event => setEnteredFilter(event.target.value)}\n          />\n        </div>\n      </Card>\n    </section>\n  );\n});\n\nexport default Search;","import React from 'react';\n\nimport './IngredientList.css';\n\nconst IngredientList = props => {\n  return (\n    <section className=\"ingredient-list\">\n      <h2>Loaded Ingredients</h2>\n      <ul>\n        {props.ingredients.map(ig => (\n          <li key={ig.id} onClick={props.onRemoveItem.bind(this, ig.id)}>\n            <span>{ig.title}</span>\n            <span>{ig.amount}x</span>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default IngredientList;\n","import React, { useState, useEffect, useCallback, useReducer, useMemo } from \"react\";\n\nimport IngredientForm from \"./IngredientForm\";\nimport Search from \"./Search\";\nimport IngredientList from \"./IngredientList\";\nimport ErrorModal from \"../UI/ErrorModal\";\nimport useHttp from \"../../components/hooks/http.js\"\n\nconst ingredientReducer = (currentIngredients, action) => {\n  switch(action.type){\n    case 'SET':\n      return action.ingredients;\n    case \"ADD\":\n      return [...currentIngredients, action.ingredient];\n    case \"DELETE\":\n      return currentIngredients.filter((item)=> item.id !== action.id);\n    default:\n      throw new Error(\"Should not get there\");\n  }\n}\n\nconst httpReducer = (curHttpState, action)=>{\n  switch(action.type){\n    case \"SEND\":\n      return {loading : true, error: null}\n    case \"RESPONSE\":\n      return {...curHttpState , loading : false}\n    case \"ERROR\" :\n      return {loading : false, error: action.errorData}\n    case \"CLEAR\":\n      return {...curHttpState, loading : false, error: null}\n    default:\n      throw new Error(\"Shouldn't reach here\")\n  }\n}\n\nfunction Ingredients() {\n  // const [userIngredients, setUserIngredients] = useState([]);\n  // const [loading, setLoading] = useState(false);\n  // const [error, setError] = useState();\n\n  const {isLoading, error, data, sendRequest, reqExtra, reqIdentifer, clear } = useHttp();\n\n  useEffect(()=>{\n    if(!isLoading && !error && reqIdentifer == \"REMOVE_INGREDIENT\"){\n      dispatch({type:\"DELETE\", id: reqExtra})\n    }else if (!isLoading && !error &&  reqIdentifer == \"ADD_INGREDIENT\"){\n      dispatch({type: \"ADD\", ingredient :{ id: data.name, ...reqExtra } })\n    }\n    \n  }, [data, reqExtra, reqIdentifer, isLoading, error ])\n \n  const [userIngredients, dispatch] = useReducer(ingredientReducer, []);\n  const [httpState, dispatchHttp] = useReducer(httpReducer, []);\n  const filterIngredientHandler = useCallback((filteredIngredient) => {\n    // setUserIngredients(filteredIngredient);\n    dispatch({type: \"SET\", ingredients : filteredIngredient})\n  }, []);\n\n  useEffect(() => {\n    console.log(\"RENDERING INGREDIENTS\", userIngredients);\n  }, [userIngredients]);\n\n  const addIngredientHandler = useCallback((ingredient) => {\n\n    sendRequest(`https://react-http-6b42f-default-rtdb.firebaseio.com/ingredients.json`, \n    \"POST\",\n    JSON.stringify(ingredient),\n    ingredient,\n    'ADD_INGREDIENT'   // IDENTIFIER\n    )\n\n    // setLoading(true);\n    // dispatchHttp({type:\"SEND\"})\n    // fetch(\n    //   \"https://react-http-6b42f-default-rtdb.firebaseio.com/ingredients.json\",\n    //   {\n    //     method: \"POST\",\n    //     body: JSON.stringify(ingredient),\n    //     headers: { \"Content-Type\": \"application/json\" },\n    //   }\n    // )\n    //   .then((response) => {\n    //     dispatchHttp({type:\"RESPONSE\"})\n    //     return response.json();\n    //   })\n    //   .then((responseData) => {\n    //     // setUseIngredients will be executed only when the promise is fullfilled\n    //     // setUserIngredients((prevIngredients) => [\n    //     //   ...prevIngredients,\n    //     //   { id: responseData.name, ...ingredient },\n    //     // ]);\n        // dispatch({type: \"ADD\", ingredient :{ id: responseData.name, ...ingredient } })\n    //   }).catch((error)=>{\n    //     dispatchHttp({type: \"ERROR\", errorData: error.message})\n    //     // setError(\"Something went wrong\")\n    // });\n      \n  },[]);\n  const removeIngredientHandler = useCallback((id) => {\n\n    sendRequest(`https://react-http-6b42f-default-rtdb.firebaseio.com/ingredients/${id}.json`, \n    \"DELETE\",\n    null,\n    id,\n    'REMOVE_INGREDIENT'\n    )\n\n    // // const newIngredients = userIngredients.filter((item)=>{\n    // //   return item.id !== id;\n    // // })\n    // // setUserIngredients(newIngredients)\n    // dispatchHttp({type:\"SEND\"})\n    // fetch(\n    //   `https://react-http-6b42f-default-rtdb.firebaseio.com/ingredients/${id}.json`,\n    //   {\n    //     method: \"DELETE\",\n    //   }\n    // ).then(response =>{\n    //   // setUserIngredients((prevIngredients) =>\n    // //   prevIngredients.filter((item) => item.id !== id)\n    // // );\n    // dispatchHttp({type:\"RESPONSE\"})\n    // dispatch({type: \"DELETE\", id : id})\n    //   //  setLoading(false)\n      \n    // }).catch((error)=>{\n    //   // setError(\"Something went wrong\") \n    //   dispatchHttp({type:\"ERROR\", errorData : error.message})\n    // });\n    \n    \n    \n  },[sendRequest]);\n  const clearError = ()=>{\n    // // setError(null);\n    // // setLoading(false);\n    // dispatchHttp({type:\"CLEAR\"})\n    clear();\n  }\n\n  const ingredientList = useMemo(()=>{\n      return (<IngredientList\n      ingredients={userIngredients}\n      onRemoveItem={removeIngredientHandler}\n    />)\n  }, [userIngredients, removeIngredientHandler])\n  return (\n    <div className=\"App\">\n    {/* {httpState.error && <ErrorModal onClose={clearError}>{httpState.error}</ErrorModal> } */}\n    {error && <ErrorModal onClose={clearError}>{error}</ErrorModal> }\n      <IngredientForm onAddIngredient={addIngredientHandler} loading={isLoading} />\n\n      <section>\n        <Search onLoadedIngredients={filterIngredientHandler} />\n        {ingredientList}\n      </section>\n    </div>\n  );\n}\n\nexport default Ingredients;\n","import React, { useContext } from 'react';\n\nimport Card from './UI/Card';\nimport './Auth.css';\nimport { AuthContext } from './Context/auth-context';\n\nconst Auth = props => {\n  const ctx  = useContext(AuthContext)\n  const loginHandler = () => {\n    ctx.login();\n  };\n\n  return (\n    <div className=\"auth\">\n      <Card>\n        <h2>You are not authenticated!</h2>\n        <p>Please log in to continue.</p>\n        <button onClick={loginHandler}>Log In</button>\n      </Card>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React, { useContext } from 'react';\nimport { AuthContext } from './components/Context/auth-context';\n\nimport Ingredients from './components/Ingredients/Ingredients';\nimport Auth from './components/Auth'\n\nconst App = props => {\n  const ctx = useContext(AuthContext);\n  let content = ctx.isAuth ? <Ingredients /> : <Auth />\n  return content;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport AuthContextProvider from './components/Context/auth-context';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render( <AuthContextProvider><App /></AuthContextProvider>  );"],"sourceRoot":""}